<form name="clusterEdit.form" role="form">

<div ui-view="header"></div>

<cs-sp-container>

  <!-- cluster overview -->
  <cs-sp-section>
    <div class="overview" style="font-size: xs"> 
      <div>{{'mediaFusion.ipAddr' | translate}}: {{connector.hosts[0].host_name}}</div>
      <div>{{'mediaFusion.connectors.status' | translate}}: {{connector.needs_attention ? 'Offline' : 'Active'}}</div>
      <div>{{'mediaFusion.connectors.version' | translate}}: {{connector.version}}</div>
    </div>
  </cs-sp-section> 

  <!-- Show Media Service cluster name with type ahead suggesting existing clusters-->
  <cs-sp-section>
    <div class="form-horizontal " style="font-size: xs; padding: 15px 0;">
      <div class="form-group form-group-sm" >
          <div class="col-sm-6 control-label" style="margin-left: -12px;">
            {{'mediaFusion.cluster' | translate}}
          </div>
          <div class="typeahead-group columns medium-5 col-sm-6">
            <input id="userInput" type="text" ng-model="displayName" class="form-control "
             typeahead="group.name for group in groups | filter:{name:$viewValue} | limitTo:10"
             typeahead-on-select="onSelect($item, $model, $label)"
             ng-keypress="onEnter($event, displayName)" focus-on/>
          </div>
      </div> 
    </div>    
  </cs-sp-section>

  <!-- Role switching dropdown -->
  <cs-sp-section>
    <div class="form-horizontal " style="font-size: xs; padding: 15px 0;">
      <div class="form-group form-group-sm" >
        <div class="col-sm-6 control-label" style="margin-left: -12px;">
          {{'mediaFusion.role' | translate}}
        </div>
        <div class="col-sm-6 columns medium-5">
          <select name="roleSelect" ng-model="roleSelected" ng-change="changeRole(roleSelected)">
            <option value="Switching">{{'mediaFusion.switching' | translate}}</option>
            <option value="Transcoding">{{'mediaFusion.transcoding' | translate}}</option>
          </select>
        </div>
      </div>  
    </div>
  </cs-sp-section>

  <!-- Show alarms details if alarms present -->
  <div class="alarms" ng-show="connector.alarms_present">
    <cs-sp-section>
      <div class="section-name" style="padding: 15px 0;">
        {{'mediaFusion.connectors.alarms' | translate}}
      </div>
      <div class="sw-upgrade clearfix" style="font-size: xs">
        <a ui-sref="connector-details.alarms({connectorId: connector.id})" >
          <i class="fa fa-circle connector-status-yellow" /> 
          <span ng-show="connector.alarm_count==1"> {{connector.alarm_count}} {{'mediaFusion.connectors.reportAlarm' | translate}} </span>
          <span ng-hide="connector.alarm_count==1"> {{connector.alarm_count}} {{'mediaFusion.connectors.reportAlarms' | translate}} </span>
          <i class="feature-arrow"></i>
        </a>
      </div> 
    </cs-sp-section>
  </div>

  <!-- Submit/Cancel buttons for confirming cluster changes -->
  <cs-sp-section>
    <cs-sp-buttons  ng-show="showbutton" title="{{'mediaFusion.confirmCluster' | translate}}">
      <button id="saveButton" class="btn-primary" translate="common.save" ng-click="updateCluster(displayName, $event)" type="submit" ></button>
      <button id="cancelButton" class="btn-default" translate="common.cancel" ng-click="resetCluster()"></button>
    </cs-sp-buttons>
  </cs-sp-section>

</cs-sp-container>
</form>
