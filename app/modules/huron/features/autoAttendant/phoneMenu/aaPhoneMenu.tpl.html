<aa-say-message aa-schedule="{{schedule}}" aa-index="index" aa-header="true"></aa-say-message>
<div class="aa-phone-menu">
  <div class="panel">
    <div ng-if="aaPhoneMenu.selectedActions.length">
      <div class="row collapse-left aa-pm-vertical-line" ng-repeat="keyAction in aaPhoneMenu.selectedActions">
        <div class="small-3 columns">
          <cs-select ng-model="keyAction.key" options="keyAction.keys" placeholder="aaPhoneMenu.selectPlaceholder" on-change-fn="aaPhoneMenu.keyChanged($index, keyAction.key)" class="aa-pm-key-select" icon="icon-chevron-down">
          </cs-select>
        </div>
        <div class="small-8 columns">
          <cs-select ng-model="keyAction.action" options="aaPhoneMenu.keyActions" placeholder="aaPhoneMenu.actionPlaceholder" on-change-fn="aaPhoneMenu.keyActionChanged($index, keyAction.action)" class="aa-pm-action-select" icon="icon-chevron-down">
          </cs-select>
        </div>
        <div class="text-right small-1 columns">
          <span class="aa-trash-icon" aria-label="common.delete" ng-click="aaPhoneMenu.deleteKeyAction($index); $event.stopPropagation();"></span>
        </div>
      </div>
    </div>
    <div class="row collapse-both">
      <div ng-show="aaPhoneMenu.selectedActions.length < 12" class="small-12 columns">
        <a class="aa-pm-primary-text aa-pm-add" ng-click="aaPhoneMenu.addKeyAction()">
          <span class="icon icon-plus-circle"></span>{{ :: 'autoAttendant.phoneMenuAddDigit' | translate }}</a>
      </div>
    </div>
  </div>
  <!-- timeout/invalid action -->
  <div class="panel">
    <div class="row aa-pm-timeout">
      <div class="small-4 columns">
        <label class="control-label" for="timeoutSelect" translate="autoAttendant.phoneMenuTimeout"></label>
      </div>
      <div class="small-8 columns">
        <cs-select ng-model="aaPhoneMenu.selectedTimeout" options="aaPhoneMenu.timeoutActions" placeholder="aaPhoneMenu.actionPlaceholder" nested="true" icon="icon-chevron-down" iconnested="icon-chevron-right" on-change-fn="aaPhoneMenu.saveUIModel()">
        </cs-select>
      </div>
    </div>
  </div>
</div>
