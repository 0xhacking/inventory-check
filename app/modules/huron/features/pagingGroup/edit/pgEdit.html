<div ng-if="$ctrl.loading" class="load">
	<i class='icon icon-spinner'></i>
</div>
<div ng-if="!$ctrl.loading" class="pg-edit">
	<form novalidate name="$ctrl.form" role="form" class="cs-form">
		<cs-page-header title="{{$ctrl.pg.name}}" back="$ctrl.back" back-url="$ctrl.huronFeaturesUrl"></cs-page-header>
		<div class="save-section pg-save" ng-if="$ctrl.formChanged">
			<p>{{:: 'pagingGroup.saveLabel' | translate}}</p>
			<button ng-click="$ctrl.onCancel()">{{:: 'common.cancel' | translate}}</button>
			<button class="btn btn--primary" cs-btn loading="$ctrl.saveInProgress" ng-click="$ctrl.saveForm()" ng-disabled="$ctrl.showDisableSave()">{{:: 'common.save' | translate}}
  </button>
		</div>
		<div class="cs-form__section-first">
			<div class="section__info">
				<h4 class="section__title" translate="pagingGroup.pagingGroupName"></h4>
				<h6 class="section__description" translate="pagingGroup.nameHint"></h6>
			</div>
			<div class="section__content">
				<div ng-class="{'error': $ctrl.errorNameInput}">
					<input id="paging-group-name" type="text" required="required" class="cs-input" ng-model="$ctrl.name" ng-change="$ctrl.onChange()"
					/>
				</div>
			</div>
		</div>
		<div class="cs-form__section">
			<div class="section__info">
				<h4 class="section__title" translate="pagingGroup.pagingGroupNumber"></h4>
				<h6 class="section__description" translate="pagingGroup.numberHint"></h6>
			</div>
			<div class="section__content">
				<cs-select ng-model="$ctrl.number" options="$ctrl.availableNumbers" labelfield="number" filter="true" refresh-data-fn="$ctrl.fetchNumbers(filter)"
					ng-change="$ctrl.onChange()">
				</cs-select>
			</div>
		</div>
		<div class="cs-form__section">
			<div class="section__info">
				<h4 class="section__title" translate="pagingGroup.pagingGroupMembers"></h4>
				<h6 class="section__description" translate="pagingGroup.memberEditHint"></h6>
			</div>
			<div class="section__content">
				<cs-card-layout>
					<!--TODO: next US to do more work on display-->
					<cs-card-member ng-repeat="member in $ctrl.members" type="simple" member-type="{{member.type}}"
						id="{{member.memberId}}" title="{{member.memberId}}" subtitle="{{member.type}}"
						image="{{member.type}}">
					</cs-card-member>
					</div>
				</cs-card-layout>
			</div>
		</div>
	</form>
</div>