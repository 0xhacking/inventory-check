<script type="text/ng-template" id="numberTemplate.html">
  <a>
      <span ng-bind-html="match.label | typeaheadHighlight:query" ></span>
  </a>
</script>
<script type="text/ng-template" id="userTemplate.html">
  <div>
    <span ng-bind-html="match.label.userName | typeaheadHighlight:query" ></span>
  </div>
  <a ng-repeat="number in match.label.userNumber">
      <span ng-bind-html="number | typeaheadHighlight:query" ></span>
  </a>
</script>
<cs-overlay-panel class="huntgroup overlay-panel typeahead-group" overlay-title="{{::'huronHuntGroup.title' | translate}}" close="huntGroupSA.close()">
  <cs-setup-assistant previous="huntGroupSA.previousButton(huntGroupSA.getPageIndex())" next="huntGroupSA.nextButton(huntGroupSA.getPageIndex())" previous-fn="huntGroupSA.previousPage()" next-fn="huntGroupSA.nextPage()">

    <div class="typeahead-large" ng-if="huntGroupSA.getPageIndex() == 0">
      <input class="form-control" placeholder="{{:: 'huronHuntGroup.namePlaceholder' | translate}}" ng-model="huntGroupSA.huntGroupName">
      <p class="input-description" translate="huronHuntGroup.nameHint"></p>
    </div>

    <div class="pilot-number-details" ng-if="huntGroupSA.getPageIndex() == 1">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input id="numberInput" type="text" ng-model="huntGroupSA.selected"
            typeahead="number as num.number for num in huntGroupSA.fetchNumbers($viewValue) | limitTo:10"
            typeahead-on-select="huntGroupSA.selectHuntGroupNumber($item)"
            typeahead-template-url="numberTemplate.html" placeholder="{{:: 'huronHuntGroup.numberPlaceholder' | translate}}"/>
        <p class="input-description" translate="huronHuntGroup.numberHint"></p>
      </div>
      <div class="number-pill-container">
        <span class="number-pill-item" ng-repeat="number in huntGroupSA.selectedPilotNumbers">
          <span class="hunt-number">{{number}}</span>
          <a href='#' class="icon icon-close icon-lg" ng-click="huntGroupSA.removeNumberSelection(number)"></a>
        </span>
      </div>
    </div>

    <div class="text-center" ng-if="huntGroupSA.getPageIndex() == 2">
      <h2 class="primary-color" translate="huronHuntGroup.methodTitle"></h2>
      <p class="hunt-method-description" translate="huronHuntGroup.methodHint"></p>
      <div>
        <button>Longest Idle</button>
        <button>Broadcast</button>
        <button>Circular</button>
        <button>Top Down</button>
      </div>
    </div>

    <div ng-if="huntGroupSA.getPageIndex() == 3">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input id="userInput" type="text" ng-model="huntGroupSA.userSelected" class="form-control  "
              typeahead="user for user in huntGroupSA.userData | filter:$viewValue | limitTo:10"
              typeahead-on-select="huntGroupSA.selectHuntGroupUser($item)"
              typeahead-template-url="userTemplate.html" placeholder="{{:: 'huronHuntGroup.memberPlaceholder' | translate}}"/>
        <p class="input-description" translate="huronHuntGroup.memberHint"></p>
      </div>
      <div ng-repeat="user in huntGroupSA.users">
        <span>{{user.userName}} &nbsp;</span><span class="icon icon-chevron-down"></span>
      </div>
    </div>

    <div ng-if="huntGroupSA.getPageIndex() == 4">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input class="form-control  " placeholder="{{:: 'huronHuntGroup.fallbackPlaceholder' | translate}}">
        <p class="input-description" translate="huronHuntGroup.fallbackHint"></p>
      </div>
      <div class="text-center">
        <cs-checkbox ckid="ckbox2" ng-model="cb.checkboxValue1" label="{{:: 'huronHuntGroup.voiceCheckLabel' | translate}}"></cs-checkbox>
      </div>
      <div class="text-center">
        <button class="label success" translate="huronHuntGroup.createGroupLabel"></button>
      </div>
    </div>
  </cs-setup-assistant>
</cs-overlay-panel>
