<script type="text/ng-template" id="numberTemplate.html">
  <a>
      <span ng-bind-html="match.label.userNumber | typeaheadHighlight:query" ></span>
  </a>
</script>
<script type="text/ng-template" id="userTemplate.html">
  <div>
    <span ng-bind-html="match.label.userName | typeaheadHighlight:query" ></span>
  </div>
  <a ng-repeat="number in match.label.userNumber">
      <span ng-bind-html="number | typeaheadHighlight:query" ></span>
  </a>
</script>
<cs-overlay-panel class="huntgroup overlay-panel typeahead-group" overlay-title="{{::'huronHuntGroup.title' | translate}}" close="huntGroupSA.close()">
  <cs-setup-assistant previous="huntGroupSA.previousButton(huntGroupSA.getPageIndex())" next="huntGroupSA.nextButton(huntGroupSA.getPageIndex())" previous-fn="huntGroupSA.previousPage()" next-fn="huntGroupSA.nextPage()">
    <div class="h-center input-details" ng-if="huntGroupSA.getPageIndex() == 0">
      <input class="form-control h-center underline" placeholder="{{:: 'huronHuntGroup.namePlaceholder' | translate}}" ng-model="huntGroupSA.huntGroupName">
      <div>
        <p translate="huronHuntGroup.nameHint"></p>
      </div>
    </div>
    <div class="h-center input-details" ng-if="huntGroupSA.getPageIndex() == 1">
      <div>
        <input id="numberInput" type="text" ng-model="huntGroupSA.selected" class="form-control h-center underline"
            typeahead="userNumber for userNumber in huntGroupSA.numberData | filter:$viewValue | limitTo:10"
            typeahead-on-select="huntGroupSA.selectHuntGroupNumber($item)"
            typeahead-template-url="numberTemplate.html" placeholder="{{:: 'huronHuntGroup.numberPlaceholder' | translate}}"/>
      </div>
      <p translate="huronHuntGroup.numberHint"></p>
      <div ng-repeat="userNumber in huntGroupSA.numbers">
        <span>{{userNumber}} &nbsp;<span class="icon icon-remove"></span></button>
      </div>
    </div>
    <div ng-if="huntGroupSA.getPageIndex() == 2">
      <div class="hgmethods">
        <div class="title" translate="huronHuntGroup.methodTitle"></div>
        <div class="desc" translate="huronHuntGroup.methodHint"></div>
        <div class="row">
          <ul class="select-method large-9 columns medium-centered large-block-grid-4 medium-block-grid-2 large">
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.longestIdle}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.longestIdle)">
                <i class="icon icon-circle-clock-hands"></i>
                <div translate="huronHuntGroup.hgMethods.longestIdle.name" ></div>
                <p translate="huronHuntGroup.hgMethods.longestIdle.desc"></p>
              </a>
            </li>
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.broadcast}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.broadcast)">
                <i class="icon icon-circle-arrows-cross"></i>
                <div translate="huronHuntGroup.hgMethods.broadcast.name"></div>
                <p translate="huronHuntGroup.hgMethods.broadcast.desc"></p>
              </a>
            </li>
            <li class="hgmethod"  ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.circular}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.circular)">
                <i class="icon icon-circle-arrows-circular"></i>
                <div translate="huronHuntGroup.hgMethods.circular.name"></div>
                <p translate="huronHuntGroup.hgMethods.circular.desc"></p>
              </a>
            </li>
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.topDown}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.topDown)">
                <i class="icon icon-circle-arrow-down"></i>
                <div translate="huronHuntGroup.hgMethods.topDown.name"></div>
                <p  translate="huronHuntGroup.hgMethods.topDown.desc"></p>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="h-center input-details" ng-if="huntGroupSA.getPageIndex() == 3">
      <input id="userInput" type="text" ng-model="huntGroupSA.userSelected" class="form-control h-center underline"
            typeahead="user for user in huntGroupSA.userData | filter:$viewValue | limitTo:10"
            typeahead-on-select="huntGroupSA.selectHuntGroupUser($item)"
            typeahead-template-url="userTemplate.html" placeholder="{{:: 'huronHuntGroup.memberPlaceholder' | translate}}"/>
      <p translate="huronHuntGroup.memberHint"></p>
      <div ng-repeat="user in huntGroupSA.users">
        <span>{{user.userName}} &nbsp;<span class="icon icon-chevron-down"></span></button>
      </div>
    </div>
    <div class="h-center input-details" ng-if="huntGroupSA.getPageIndex() == 4">
      <div>
        <input class="form-control h-center underline" placeholder="{{:: 'huronHuntGroup.fallbackPlaceholder' | translate}}">
      </div>
      <div>
        <p translate="huronHuntGroup.fallbackHint"></p>
      </div>
      <div>
        <cs-checkbox ckid="ckbox2" ng-model="cb.checkboxValue1" label="{{:: 'huronHuntGroup.voiceCheckLabel' | translate}}"></cs-checkbox>
      </div>
      <div>
        <button translate="huronHuntGroup.createGroupLabel"></button>
      </div>
    </div>
  </cs-setup-assistant>
</cs-overlay-panel>
