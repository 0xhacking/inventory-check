<script type="text/ng-template" id="numberTemplate.html">
  <a>
      <span ng-bind-html="match.label | typeaheadHighlight:query" ></span>
  </a>
</script>
<script type="text/ng-template" id="userTemplate.html">
  <div>
    <span ng-bind-html="match.label.userName | typeaheadHighlight:query" ></span>
  </div>
  <a ng-repeat="number in match.label.userNumber">
      <span ng-bind-html="number | typeaheadHighlight:query" ></span>
  </a>
</script>
<cs-overlay-panel class="huntgroup overlay-panel typeahead-group" overlay-title="{{::'huronHuntGroup.title' | translate}}" close="huntGroupSA.cancelModal()"  ng-keyup="huntGroupSA.evalKeyPress($event.keyCode)">
  <cs-setup-assistant previous="huntGroupSA.previousButton(huntGroupSA.getPageIndex())" next="huntGroupSA.nextButton(huntGroupSA.getPageIndex())" previous-fn="huntGroupSA.previousPage()" next-fn="huntGroupSA.nextPage()">

    <div class="typeahead-large" ng-class="huntGroupSA.animation" ng-if="huntGroupSA.getPageIndex() == 0">
      <input class="form-control" placeholder="{{:: 'huronHuntGroup.namePlaceholder' | translate}}" ng-model="huntGroupSA.huntGroupName" ng-keypress="huntGroupSA.enterNextPage($event.keyCode)" focus-on>
      <p class="input-description" translate="huronHuntGroup.nameHint"></p>
    </div>

    <div class="pilot-number-details" ng-class="huntGroupSA.animation" ng-if="huntGroupSA.getPageIndex() == 1">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input id="numberInput" type="text" ng-model="huntGroupSA.selected"
            typeahead="number as num.number for num in huntGroupSA.fetchNumbers($viewValue) | limitTo:10"
            typeahead-on-select="huntGroupSA.selectHuntGroupNumber($item)"
            typeahead-template-url="numberTemplate.html" placeholder="{{:: 'huronHuntGroup.numberPlaceholder' | translate}}"
            ng-keypress="huntGroupSA.enterNextPage($event.keyCode)" focus-on/>
        <p class="input-description" translate="huronHuntGroup.numberHint"></p>
      </div>
      <div class="number-pill-container">
        <span class="number-pill-item" ng-repeat="number in huntGroupSA.selectedPilotNumbers">
          <span class="hunt-number">{{number}}</span>
          <a href='#' class="icon icon-close icon-lg" ng-click="huntGroupSA.unSelectHuntGroupNumber(number)"></a>
        </span>
      </div>
    </div>
    <div ng-if="huntGroupSA.getPageIndex() == 2" ng-class="huntGroupSA.animation">
      <div class="hgmethods large">
        <div>
        <div class="title" translate="huronHuntGroup.methodTitle"></div>
        <div class="desc" translate="huronHuntGroup.methodHint"></div>
        <div class="row method-container">
          <ul class="select-method large-9 columns medium-centered large-block-grid-4 medium-block-grid-2">
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.longestIdle}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.longestIdle)">
                <i class="icon icon-circle-clock-hands"></i>
                <div translate="huronHuntGroup.hgMethods.longestIdle.name" ></div>
                <p translate="huronHuntGroup.hgMethods.longestIdle.desc"></p>
              </a>
            </li>
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.broadcast}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.broadcast)">
                <i class="icon icon-circle-arrows-cross"></i>
                <div translate="huronHuntGroup.hgMethods.broadcast.name"></div>
                <p translate="huronHuntGroup.hgMethods.broadcast.desc"></p>
              </a>
            </li>
            <li class="hgmethod"  ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.circular}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.circular)">
                <i class="icon icon-circle-arrows-circular"></i>
                <div translate="huronHuntGroup.hgMethods.circular.name"></div>
                <p translate="huronHuntGroup.hgMethods.circular.desc"></p>
              </a>
            </li>
            <li class="hgmethod" ng-class="{current: huntGroupSA.huntGroupMethod === huntGroupSA.hgMethods.topDown}">
              <a href="#" ng-click="huntGroupSA.setHuntMethod(huntGroupSA.hgMethods.topDown)">
                <i class="icon icon-circle-arrow-down"></i>
                <div translate="huronHuntGroup.hgMethods.topDown.name"></div>
                <p  translate="huronHuntGroup.hgMethods.topDown.desc"></p>
              </a>
            </li>
          </ul>
        </div>
        </div>
      </div>
    </div>

    <div ng-class="huntGroupSA.animation" ng-if="huntGroupSA.getPageIndex() == 3">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input id="userInput" type="text" ng-model="huntGroupSA.userSelected" class="form-control  "
              typeahead="user for user in huntGroupSA.userData | filter:$viewValue | limitTo:10"
              typeahead-on-select="huntGroupSA.selectHuntGroupUser($item)"
              typeahead-template-url="userTemplate.html" placeholder="{{:: 'huronHuntGroup.memberPlaceholder' | translate}}"
              ng-keypress="huntGroupSA.enterNextPage($event.keyCode)" focus-on/>
        <p class="input-description" translate="huronHuntGroup.memberHint"></p>
      </div>
      <div ng-repeat="user in huntGroupSA.users">
        <span>{{user.userName}} &nbsp;</span><span class="icon icon-chevron-down"></span>
      </div>
    </div>

    <div ng-class="huntGroupSA.animation" ng-if="huntGroupSA.getPageIndex() == 4">
      <div class="typeahead-large">
        <span class="input-search"></span>
        <input class="form-control  " placeholder="{{:: 'huronHuntGroup.fallbackPlaceholder' | translate}}" focus-on>
        <p class="input-description" translate="huronHuntGroup.fallbackHint"></p>
      </div>
      <div class="text-center">
        <cs-checkbox ckid="ckbox2" ng-model="cb.checkboxValue1" label="{{:: 'huronHuntGroup.voiceCheckLabel' | translate}}"></cs-checkbox>
      </div>
      <div class="text-center">
        <button class="label success" translate="huronHuntGroup.createGroupLabel"></button>
      </div>
    </div>
  </cs-setup-assistant>
</cs-overlay-panel>
