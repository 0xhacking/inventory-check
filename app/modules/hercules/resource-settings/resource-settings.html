<div class="fusion-resource-setting">
  <cs-page-header title="{{resourceSetting.cluster.name}} settings" back="true" ng-if="resourceSetting.cluster.name"></cs-page-header>


  <div class="clusterid">
    <div class="row">
      <div class="columns medium-4">
        <h5>Users and Release Channel</h5>
        <p>
          Assign a specific subset of your users to this cluster,
          and select a release channel for it.
        </p>
      </div>
      <div class="columns medium-4">
        <h6>Users</h6>
        <cs-select
          ng-model="resourceSetting.usersSelected"
          options="resourceSetting.usersOptions"
          placeholder="resourceSetting.usersPlaceholder"
          is-disabled="true"
        >
        </cs-select>
        <h6>Release Channel</h6>
        <cs-select
          ng-model="resourceSetting.releasechannelsSelected"
          options="resourceSetting.releasechannelsOptions"
          placeholder="resourceSetting.releasechannelsPlaceholder"
        >
      </div>
      <div class="columns medium-4"></div>
    </div>

    <hr />
    <div class="row">
      <div class="columns medium-4">
        <h5>Deactivate Services</h5>

      </div>
      <div class="columns medium-4">

        <div ng-if="resourceSetting.enabledServices.length > 1">
          <p>Deactivating a service will remove any service related
            functionality from this cluster.</p>

          <div ng-repeat="service in resourceSetting.enabledServices">
            <div ng-if="service === 'c_cal'">
              <button type="button" class="btn btn--alert" ng-click="resourceSetting.deactivateService('c_cal', resourceSetting.cluster);">Deactivate Calendar</button>
            </div>
            <div ng-if="service === 'c_ucmc'">
              <button type="button" class="btn btn--alert" ng-click="resourceSetting.deactivateService('c_ucmc', resourceSetting.cluster);">Deactivate Call</button>
            </div>
          </div>
        </div>
        <div ng-if="resourceSetting.enabledServices.length < 2">
          <p>No Hybrid Services are provisioned on this Expressway. To enable a Hybrid Service,
          go to the relevant service page and click <strong>Add Resource</strong>.</p>
        </div>

      </div>
      <div class="columns medium-4"></div>
    </div>

    <hr />
    <div class="row">
      <div class="columns medium-4">
        <h5>Deregister Cluster</h5>
      </div>
      <div class="columns medium-4">

        <div ng-if="resourceSetting.enabledServices.length > 1">
        <p >Deactivate all services on this Expressway
        cluster before deregistring it.</p>

          <button type="button" class="btn btn--alert" disabled="disabled">Deregister</button>

        </div>

      <div ng-if="resourceSetting.enabledServices.length < 2">
        <p>Disconnect this cluster from Cisco Collaboration Cloud
          and remove all connectors and related configuration.</p>
        <button type="button" class="btn btn--alert" ng-click="resourceSetting.deregisterCluster(resourceSetting.cluster)">Deregister</button>

      </div>


      </div>
      <div class="columns medium-4"></div>
    </div>
    <hr />
  </div>



</div>
