<div id="fusion-root" class="container-fluid">
  <div class="page-header">
    <span class="user-title" translate="hercules.page_title"></span>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div ng-show="loading" translate="hercules.connectors.loading"></div>
      <div ng-show="error" translate="hercules.connectors.loading_error"></div>
      <div ng-show="!loading">
        <div ng-show="connectors.length == 0" translate="hercules.connectors.no_connectors"></div>

        <div ng-show="connectors.length != 0">

          <form ng-show="connectors.length > 1" class="form-inline" role="form">
            <div class="form-group">
              <label for="groupings" translate="hercules.connectors.group_by"></label>
              <select
                id="groupings"
                class="form-control"
                ng-model="current_grouping"
                ng-options="grouping.translate_attr | translate for grouping in groupings">
              </select>
              <input class="form-control" type="button" value="Reload" ng-click="reload()" />
            </div>
            <div style="float: right">
              <span
                class="badge badge-{{cl}}"
                style="margin-left: 3px;"
                ng-repeat="(cl, num) in aggregated_status">
                {{num}}
              </span>
            </div>
          </form>

          <div class="panel panel-default" ng-repeat="(name, connectors) in grouped_connectors">
            <div class="panel-heading panel-heading-default">
              <h4>{{name}}</h4>
            </div>
            <div class="panel-body">

              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 25%" translate="hercules.connectors.host_name"></th>
                    <th style="width: 25%" translate="hercules.connectors.display_name"></th>
                    <th style="width: 25%" translate="hercules.connectors.version"></th>
                    <th style="width: 25%" translate="hercules.connectors.status"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="connector in connectors" id="{{connector.id}}">
                    <td>
                      <a href="https://{{connector.host_name}}/" target="_blank">
                        {{connector.host_name}}
                      </a>
                    </td>
                    <td>{{connector.display_name}}</td>
                    <td>{{connector.version}}</td>
                    <td>
                      <span
                        class="label label-{{connector.status_class}}">
                        {{connector.status}}
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>

            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
