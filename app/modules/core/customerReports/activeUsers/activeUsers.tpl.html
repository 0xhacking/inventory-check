<cs-card id='active-user-card' class="large report-card">
  <article>
    <header>
      <h4 class='report-section-header' translate='activeUsers.activeUsers'></h4>
    </header>
    <section>
      <div class="customer-active-user">
        <p class="report-description">{{nav.activeUserDescription}}</p>
        <div id="activeUsersdiv" class="barchart"></div>
        <div class="spinner-position" ng-if="nav.isRefresh(nav.activeUserStatus)">
          <i class='icon icon-spinner icon-2x'></i>
        </div>
        <div class="no-data-center" ng-if="nav.isEmpty(nav.activeUserStatus)">
          <h3 class="no-data"> 
            <i class='icon icon-warning no-data-warning'></i>
            <span translate='reportsPage.noCustomerData'></span>
          </h3>
        </div>
        <div ng-show="!nav.isRefresh(nav.activeUserStatus) && !nav.isEmpty(nav.activeUserStatus)">
          <div class="active-table" ng-show="nav.showMostActiveUsers">
            <h4 class="report-section-header report-sides">{{nav.mostActiveTitle}}</h4>
            <p class="report-description" translate='activeUsers.customerMostActiveDescription'></p>
            <table class="table table-bordered active-users-table report-sides" ng-show="!nav.isRefresh(nav.mostActiveUserStatus) && !nav.isEmpty(nav.mostActiveUserStatus)">
              <thead>
                <tr>
                  <th class="vertical-center col-md-4 bold pointer" ng-click="nav.mostActiveSort(0)" translate="activeUsers.user"></th>
                  <th class="vertical-center horizontal-center col-md-2 bold pointer"translate="activeUsers.calls" ng-click="nav.mostActiveSort(1)"></th>
                  <th class="vertical-center horizontal-center col-md-2 bold pointer" translate="activeUsers.squaredActivity" ng-click="nav.mostActiveSort(2)"></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="user in nav.mostActiveUsers | orderBy:nav.activeUserPredicate:nav.activeUserReverse" ng-show="nav.activePage($index)">
                  <td class="vertical-center">{{user.userName}}</td>
                  <td class="vertical-center horizontal-center">{{user.numCalls}}</td>
                  <td class="vertical-center horizontal-center">{{user.totalActivity}}</td>
                </tr>
              </tbody>
            </table>
            <div class="table-spinner" ng-if="nav.isRefresh(nav.mostActiveUserStatus)">
              <i class='icon icon-spinner icon-2x'></i>
            </div>
            <div class="empty-table" ng-if="nav.isEmpty(nav.mostActiveUserStatus)">
              <h3 class="no-data"> 
                <i class='icon icon-warning no-data-warning'></i>
                <span translate='reportsPage.noCustomerData'></span>
              </h3>
            </div>
          </div>
          <a class="report-sides" ng-click="nav.mostActiveUserSwitch()">
            <span ng-if="!nav.showMostActiveUsers" translate="activeUsers.showActiveUsers"></span>
            <span ng-if="nav.showMostActiveUsers" translate="activeUsers.hideActiveUsers"></span>
          </a>
          <div id="activeCarousel" class="pull-right" ng-show="(nav.activeUsersTotalPages > 1)">
            <button type="button" class="actions-button btn--none" ng-click="nav.pageBackward()" ng-show="nav.activeUsersTotalPages > 3">
              <i class='icon icon-chevron-left'></i>
            </button>
            <button type="button" class="btn" ng-click="nav.changePage(nav.activeButton[0])"
              ng-class="{'btn--primary': (nav.activeButton[0] === nav.activeUserCurrentPage), 'btn--link carousel-btn': (nav.activeButton[0] !== nav.activeUserCurrentPage) }">
              {{nav.activeButton[0]}}</button>
            <button type="button" class="btn" ng-click="nav.changePage(nav.activeButton[1])"
              ng-class="{'btn--primary': (nav.activeButton[1] === nav.activeUserCurrentPage), 'btn--link carousel-btn': (nav.activeButton[1] !== nav.activeUserCurrentPage) }">
              {{nav.activeButton[1]}}</button>
            <button type="button" class="btn" ng-click="nav.changePage(nav.activeButton[2])" ng-show="nav.activeUsersTotalPages > 2"
              ng-class="{'btn--primary': (nav.activeButton[2] === nav.activeUserCurrentPage), 'btn--link carousel-btn': (nav.activeButton[2] !== nav.activeUserCurrentPage) }">
              {{nav.activeButton[2]}}</button>
            <button type="button" class="actions-button btn--none" ng-click="nav.pageForward()" ng-show="nav.activeUsersTotalPages > 3">
              <i class='icon icon-chevron-right'></i>
            </button>
          </div>
        </div>
      </div>
    </section>
  </article>
</cs-card>