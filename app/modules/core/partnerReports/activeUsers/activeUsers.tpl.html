<div class="active-user">
  <div class="row header">
    <h4 class="pull-left section-title" translate="activeUsers.activeUsers"></h4>
    <div class="actions-menu dropdown pull-right report-threedot-button">
      <button class="actions-button btn-none">
        <i class="icon icon-three-dots"></i>
      </button>
    </div>
  </div>
  <hr class="title-break pull-left"/>
  <div class="row">
    <br>
    <p class="report-description graph-match">{{nav.activeUserDescription}}</p>
    <div class="timechartDiv" ng-if="nav.isRefresh(nav.activeUsersRefresh)"></div>
    <div id="activeUsersdiv" class="barchart" ng-hide="nav.isRefresh(nav.activeUsersRefresh)"></div>
    <div id="activeUsersRefreshDiv" class="spinner-position" ng-if="nav.isRefresh(nav.activeUsersRefresh)">
      <i class='active-user-status icon icon-spinner icon-2x'></i>
    </div>
    <div class="no-data-center" ng-if="nav.isEmpty(nav.activeUsersRefresh)">
      <h3 class="no-data" translate='reportsPage.noData'></h3>
    </div>
  </div>
  <div ng-show="!nav.isRefresh(nav.activeUsersRefresh) && !nav.isEmpty(nav.activeUsersRefresh) && nav.displayMostActive">
    <div ng-show="nav.showMostActiveUsers">
      <h4 class="sub-section-title graph-match" translate="activeUsers.mostActiveUsers"></h4>
      <div class="graph-match">
        <p class="report-description">{{nav.mostActiveDescription}}</p>
        <table class="table table-bordered active-users-table">
          <thead>
            <tr>
              <td class="vertical-center col-md-4 bold pointer" ng-click="nav.mostActiveSort(0)" translate="activeUsers.user"></td>
              <td class="vertical-center col-md-4 bold pointer" translate="activeUsers.customer" ng-click="nav.mostActiveSort(1)"></td>
              <td class="vertical-center horizontal-center col-md-2 bold pointer"translate="activeUsers.calls" ng-click="nav.mostActiveSort(2)"></td>
              <td class="vertical-center horizontal-center col-md-2 bold pointer" translate="activeUsers.squaredActivity" ng-click="nav.mostActiveSort(3)"></td>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="user in nav.mostActiveUsers | orderBy:nav.activeUserPredicate:nav.activeUserReverse" ng-show="nav.activePage($index)">
              <td class="vertical-center">{{user.userName}}</td>
              <td class="vertical-center">{{user.orgName}}</td>
              <td class="vertical-center horizontal-center">{{user.numCalls}}</td>
              <td class="vertical-center horizontal-center">{{user.totalActivity}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="graph-match carousel-container">
      <a class="most-active" ng-click="nav.showMostActiveUsers = !nav.showMostActiveUsers">
        <span ng-if="!nav.showMostActiveUsers" translate="activeUsers.showActiveUsers"></span>
        <span ng-if="nav.showMostActiveUsers" translate="activeUsers.hideActiveUsers"></span>
      </a>
      <div id="activeCarousel" class="pull-right" ng-show="nav.showMostActiveUsers && (nav.activeUsersTotalPages > 1)">
        <button type="button" class="actions-button btn-none btn-sm" ng-click="nav.pageBackward()" ng-show="nav.activeUsersTotalPages > 3">
          <i class='icon icon-chevron-left'></i>
        </button>
        <button type="button" class="btn btn-sm" ng-click="nav.changePage(nav.activeButton[0])"
          ng-class="{'btn-primary': (nav.activeButton[0] === nav.activeUserCurrentPage), 'btn-link carousel-btn': (nav.activeButton[0] !== nav.activeUserCurrentPage) }">
          {{nav.activeButton[0]}}</button>
        <button type="button" class="btn btn-sm" ng-click="nav.changePage(nav.activeButton[1])"
          ng-class="{'btn-primary': (nav.activeButton[1] === nav.activeUserCurrentPage), 'btn-link carousel-btn': (nav.activeButton[1] !== nav.activeUserCurrentPage) }">
          {{nav.activeButton[1]}}</button>
        <button type="button" class="btn btn-sm" ng-click="nav.changePage(nav.activeButton[2])" ng-show="nav.activeUsersTotalPages > 2"
          ng-class="{'btn-primary': (nav.activeButton[2] === nav.activeUserCurrentPage), 'btn-link carousel-btn': (nav.activeButton[2] !== nav.activeUserCurrentPage) }">
          {{nav.activeButton[2]}}</button>
        <button type="button" class="actions-button btn-none btn-sm" ng-click="nav.pageForward()" ng-show="nav.activeUsersTotalPages > 3">
          <i class='icon icon-chevron-right'></i>
        </button>
      </div>
    </div>
  </div>
</div>