<div class="leader-board row" ng-init="init()">
  <div>
    <cs-card class="small header-bar" ng-show = "buckets.messaging.services.length !== 0">
    <article>
      <header class="header-section align-center title">
        <span ng-if="leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.message"></span>
        <span ng-if="!leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.messaging"></span>
      </header>
      <section class="bucket-info">
        <div class="text-center" class="item-paid" ng-repeat="service in buckets.messaging.services">
          <cs-donut value="service.usage" max="service.volume" ssize="72" class="text-center">
        </cs-donut>
        <div class = "text-center quantity number">
          <span class="quantity-padding" translate="firstTimeWizard.quantity"></span>
          <span class="quantity" >{{service.volume}}</span>
          <p ng-show = "service.isTrial" class = "text-center trial">
          <span class="quantity-badge badge badge-warning" translate="firstTimeWizard.trial"></span> </p>
        </div>
      </div>
    </section>
  </article>
</cs-card>


<cs-card class="small header-bar meetings" ng-show = "buckets.cf.services.length !== 0 || buckets.sites.length !== 0" >
<article>
  <header class="header-section align-center">
    <span ng-if="leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.meeting"></span>
    <span ng-if="!leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.conferencing"></span>
  </header>
  <section ng-show="buckets.cf.services.length !== 0"class="bucket-info">
    <div class="text-center" class="item-paid" ng-repeat="service in buckets.cf.services">
      <cs-donut value="service.usage" max="service.volume" ssize="72" class="text-center">
    </cs-donut>
    <div class = "text-center quantity number">
      <span class="quantity-padding" translate="firstTimeWizard.quantity"></span>
      <span class="quantity" >{{service.volume}}</span>
      <p ng-show = "service.isTrial" class = "text-center trial">
        <span class="quantity-badge badge badge-warning" translate="firstTimeWizard.trial"></span> </p>
      </div>
    </div>
  </section>

  <section  class="bucket-info" ng-show="buckets.cf.services.length === 0 && buckets.count === 1 && buckets.licensesCount == 1">
    <div class="text-center" class="item-paid" ng-repeat="(siteUrl,services) in buckets.sites">
      <div class="sub-item" ng-repeat="service in services">
      <cs-donut value="service.usage" max="service.volume" ssize="72" class="text-center">
      </cs-donut>
      <div class = "text-center">
      <span class="quantity-padding" translate="firstTimeWizard.quantity"></span>
      <span class="quantity" >{{service.volume}}</span>
      <p ng-show = "service.isTrial" class = "text-center trial">
      <span class="quantity-badge badge badge-warning" translate="firstTimeWizard.trial"></span> </p>
    </div>
    <div class="text-center" class="item-paid" ng-repeat= "(siteUrl,services) in buckets.sites" >
    <div class = "site-url"> {{siteUrl}} </div>
     <div translate="leaderBoard.{{service.offerName}}"> </div>
     </div>
    </div>
  </div>
  </section>

  <section ng-if=" !(buckets.cf.services.length === 0 && buckets.count === 1 && buckets.licensesCount == 1) && (buckets.count !== 0)" class="bucket-info" >
      <div class="text-center" class="item-paid" ng-repeat= "(siteUrl,services) in buckets.sites" >
        <div ng-if = "!($first && buckets.cf.services.length === 0)" class="site-info"> {{siteUrl}} </div>
        <div ng-if = "$first && buckets.cf.services.length === 0" class="site-info-noline"> {{siteUrl}} </div>
        <div class="sub-item text-left" ng-repeat="service in services">
          <div class = "service-bucket">
              <cs-donut value="service.usage" max="service.volume" ssize="48" tsize="16" class="text-center small-donut">
              </cs-donut>
            <div class="webex">
              <div translate="leaderBoard.{{service.offerName}}"></div>
              <div ng-if="service.offerName === 'MC'" translate="leaderBoard.WebExMC"></div>
              <span ng-if="service.trial" class="quantity-badge badge badge-warning" translate="firstTimeWizard.trial"></span>
              <span class = "quantity" translate="firstTimeWizard.quantity"></span>
              <span class ="quantity"> {{service.volume}} </span>
            </div>
          </div>
        </div>
      </div>
  </section>
</article>
</cs-card>

<cs-card class="small header-bar people" ng-show = "buckets.communication.services.length !== 0">
    <article>
      <header class="header-section align-center">
        <span ng-if="leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.call"></span>
        <span ng-if="!leaderBoard.isStormBranding" class="bucket-header" translate="firstTimeWizard.communications"></span>
      </header>
      <section class="bucket-info">
        <div class="text-center" class="item-paid" ng-repeat="service in buckets.communication.services">
          <cs-donut value="service.usage" max="service.volume" ssize="72" class="text-center">
        </cs-donut>
        <div class = "text-center quantity number" >
          <span class="quantity-padding" translate="firstTimeWizard.quantity"></span>
          <span class="quantity">{{service.volume}}</span>
        </div>
      </div>
    </section>
  </article>
</cs-card>

<cs-card class="small header-bar gray" ng-show = "buckets.shared_devices.services.length !== 0">
    <article>
      <header class="header-section align-center">
        <span class="bucket-header">{{buckets.shared_devices.title | translate}}</span>
      </header>
      <section class="bucket-info">
        <div class="text-center" class="item-paid" ng-repeat="service in buckets.shared_devices.services">
          <cs-donut value="service.usage" max="service.volume" ssize="72" class="text-center">
        </cs-donut>
        <div class = "text-center quantity number">
          <span class="quantity-padding" translate="firstTimeWizard.quantity"></span>
          <span  class="quantity">{{service.volume}}</span>
          <p ng-show = "service.isTrial" class = "text-center trial">
          <span class="quantity-badge badge badge-warning" translate="firstTimeWizard.trial"></span> </p>
        </div>
      </div>
    </section>
  </article>
</cs-card>
</div>
</div>
