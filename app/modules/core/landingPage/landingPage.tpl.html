<div class="customer-landing"></div>
  <cs-page-header title="{{::'overview.pageTitle' | translate}}"></cs-page-header>
  <div class="landing-content content-container row">
    <section class="analytics-charts small-12 medium-7 large-8 column">
      <span ng-click="reloadReports(false)" class="overview-updated" id="time-click-div">
        <cr-reload-data id="homeRefreshData" last-updated-time="refreshTime"></cr-reload-data>
      </span>
      <section class="tab-reports background-white">
        <cs-tabset justified="true" large="true">
          <cs-tab select="resizeCallsChart()">
            <cs-tab-heading>
              <span translate="homePage.calls"></span>
              <div class="total">{{counts.calls | number}}</div>
            </cs-tab-heading>
            <div id="callsChart" class="tab-report"></div>
            <div id="callsRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-show="isRefresh('calls')"></i>
            </div>
          </cs-tab>
          <cs-tab select="resizeConversationsChart()">
            <cs-tab-heading>
              <span translate="homePage.conversations"></span>
              <div class="total">{{counts.conversations | number}}</div>
            </cs-tab-heading>
            <div id="conversationsChart" class="tab-report"></div>
            <div id="convRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-if="isRefresh('conversations')"></i>
            </div>
          </cs-tab>
          <cs-tab select="resizeContentSharedChart()">
            <cs-tab-heading>
              <span translate="homePage.contentShared"></span>
              <div class="total">{{counts.contentShared | number}}</div>
            </cs-tab-heading>
            <div id="contentSharedChart" class="tab-report"></div>
            <div id="contentRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-if="isRefresh('contentShared')"></i>
            </div>
          </cs-tab>
        </cs-tabset>
      </section>
    </section>

    <section class="widgets small-12 medium-5 large-4 column">
    <div class="row collapse">
      <div class="small-12 columns background-white">

        <section class="monitoring-panel small-3 medium-12 column" ng-show="setupNotDone() || !(isCalendarAcknowledged && isCallAwareAcknowledged && isCallConnectAcknowledged)">
          <h4 class="monitoring-section" translate="homePage.notifications"></h4>
          <div class="notification-style" ng-show="setupNotDone()">
            <span class="badge badge-warning" translate="homePage.todo"></span>
            <span class="notification-spacing">
              <span translate="homePage.setUpYourTrial"></span>
              <a ng-click="openFirstTimeSetupWiz()" translate="homePage.beginTrial"></a>
            </span>
          </div>

          <div ng-controller="NewServiceNotificationCtrl">
            <new-service-notification ng-if="!isCalendarAcknowledged" info="CalendarService" click-setup="showServiceActivationPage('calendar-service')" click-close="setHybridAcknowledged('calendar-service')"></new-service-notification>
            <new-service-notification ng-if="!isCallAwareAcknowledged" info="CallAwareService" click-setup="showServiceActivationPage('call-aware-service')" click-close="setHybridAcknowledged('call-aware-service')"></new-service-notification>
            <new-service-notification ng-if="!isCallConnectAcknowledged" info="CallConnectService" click-setup="showServiceActivationPage('call-connect-service')" click-close="setHybridAcknowledged('call-connect-service')"></new-service-notification>
          </div>
          
        </section>

        <section class="monitoring-panel small-12 column">
          <h4 class="monitoring-section" translate="homePage.status"></h4>
          <ul class="icon-ul">
          <li ng-class="{'success':'green'}[healthStatus]">
            <a ng-href="{{statusPageUrl}}" target="_blank" class="monitoring-cell">
              <i class="icon-li icon icon-circle" ng-class="{'warning':'yellow','danger':'red'}[healthStatus]"></i><span translate="homePage.spark"></span>
            </a>
          </li>
          <li target="_blank" ng-class="{'green': sso}">
              <i class="icon-li icon icon-circle" ng-class="{'gray': !sso}"></i><span translate="homePage.sso"></span>
          </li>
           <li target="_blank" ng-class="{'green': dirsync}">
              <i class="icon-li icon icon-circle" ng-class="{'gray': !dirsync}"></i><span translate="homePage.dirsync"></span>
          </li>
          </ul>
        </section>

        <!-- TODO: Replacement for when monitoring service is refactored
        <section class="monitoring-panel small-4 medium-12">
          <h4 translate="homePage.monitoring">Monitoring</h4>
          <ul class="monitoring-list">
            <li class="monitoring-sections" ng-repeat="section in healthMetricsSections" ng-click="isCollapsed = !isCollapsed">
              <a href ng-class="{true:'green', false:'red'}[section.status==='operational']">
                <i class="fa fa-circle"></i><span>{{section.name}}</span>
              </a>
              <ul class="health-metrics" collapse="isCollapsed">
                <li id="{{health.name}}" class="monitoring-cell"ng-repeat="health in section.healthMetrics">
                  <a ng-href="{{statusPageUrl}}"  ng-class="{true:'green', false:'red'}[health.status==='operational']" target="_blank">
                    <i class="fa fa-circle"></i><span>{{health.name}}</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </section> -->
        <!-- <section class="help small-4 medium-12" ng-controller="SupportCtrl">
          <h4>Need Help?</h4>
          <p class="no-cases">There are no open cases</p>
          <button class="btn">Open a Case</button>
        </section> -->
        <section class="quick-links small-12 column" ng-controller="QuikLinksCtrl">
          <h4 translate="homePage.quickLinksText"></h4>
          <ul class="no-bullet">
            <li ng-if="isPageActive('users')">
              <a id="addUserQuickLink" href="" ui-sref="users.list({ showAddUsers: 'add' })" translate="homePage.addUserText"></a>
            </li>
            <li ng-if="false">
              <a id="installDeviceQuickLink" translate="homePage.installDeviceText"></a>
            </li>
            <li ng-if="isPageActive('devices')">
              <a id="installDeviceSharedSpaceQuickLink" ui-sref="devices" translate="homePage.installSharedSpaceText"></a>
            </li>
            <li ng-if="false">
              <a id="autoAttendantQuickLink" translate="homePage.autoAttendantText"></a>
            </li>
            <li ng-if="isPageActive('support')">
              <a id="deviceLogsQuickLink" ui-sref="support" translate="homePage.searchLogsText"></a>
            </li>
          </ul>
        </section>
        <section class="unlicensed-users small-12 column" ng-controller="LicensesCtrl" ng-show="isAdmin()">
          <div ng-if="isDomainClaimed()">
            <div class="users-info">
              <span class="number">{{licenses.unlicensed}}</span>
              <span class="text" translate="homePage.unlicensedDateText"></span>
            </div>
            <h4>{{licenses.domain}}</h4>
          </div>
          <div class="unlicensed-users-unclaimeddomain" ng-if="isDomainClaimed()===false">
            <h4>{{licenses.unlicensed}} {{'homePage.unlicensedText' | translate}}</h4>
            <p class="no-cases" translate="homePage.convertText"></p>
          </div>
          <button id="convertButton" class="btn" translate="homePage.convert" ng-click="openConvertModal()" ng-disabled="licenses.unlicensed === 0"></button>
        </section>
      </div>
      </div>
    </section>
  </div>
