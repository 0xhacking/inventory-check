<div class="landing-page">
  <div class="landing-content row">
    <section class="analytics-charts col-sm-12 col-md-7 col-lg-8">
      <div class="trialTitle">
        <span translate="homePage.activity"></span><span ng-click="reloadReports(false)" class="overview-updated" id="time-click-div">:
        <cr-reload-data id="homeRefreshData" last-updated-time="refreshTime"></cr-reload-data>
        </span>
      </div>
      <section class="tab-reports background-white">
        <cs-tabset justified="true" large="true">
          <cs-tab select="resizeCallsChart()">
            <cs-tab-heading>
              <span translate="homePage.calls"></span>
              <div class="total">{{counts.calls}}</div>
            </cs-tab-heading>
            <div id="callsChart" class="tab-report"></div>
            <div id="callsRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-show="isRefresh('calls')"></i>
            </div>
          </cs-tab>
          <cs-tab select="resizeConversationsChart()">
            <cs-tab-heading>
              <span translate="homePage.conversations"></span>
              <div class="total">{{counts.conversations}}</div>
            </cs-tab-heading>
            <div id="conversationsChart" class="tab-report"></div>
            <div id="convRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-if="isRefresh('conversations')"></i>
            </div>
          </cs-tab>
          <cs-tab select="resizeContentSharedChart()">
            <cs-tab-heading>
              <span translate="homePage.contentShared"></span>
              <div class="total">{{counts.contentShared}}</div>
            </cs-tab-heading>
            <div id="contentSharedChart" class="tab-report"></div>
            <div id="contentRefreshDiv" class="report-status">
              <i class='icon icon-spinner icon-2x' ng-if="isRefresh('contentShared')"></i>
            </div>
          </cs-tab>
        </cs-tabset>
      </section>
    </section>

    <div class="widgets col-sm-12 col-md-5 col-lg-4 background-white">
      <div class="row">
        <!-- TODO: To be removed when monitoring service is refactored-->
        <section class="monitoring-panel col-sm-4 col-md-12">
          <h4 class="monitoring-section" translate="homePage.monitoring"></h4>
          <div ng-repeat="health in healthMetrics">
            <a ng-href="{{statusPageUrl}}" target="_blank">
              <div ng-class="{true:'green', false:'red'}[health.status==='operational']" class="monitoring-cell" id="{{health.name}}">
                <i class="fa fa-circle"></i>&nbsp;&nbsp;<span>{{health.name}}</span>
              </div>
            </a>
          </div>
          <hercules-status></hercules-status>
        </section>

        <!-- TODO: Replacement for when monitoring service is refactored
        <section class="monitoring-panel col-sm-4 col-md-12">
          <h4 translate="homePage.monitoring">Monitoring</h4>
          <ul class="monitoring-list">
            <li class="monitoring-sections" ng-repeat="section in healthMetricsSections" ng-click="isCollapsed = !isCollapsed">
              <a href ng-class="{true:'green', false:'red'}[section.status==='operational']">
                <i class="fa fa-circle"></i><span>{{section.name}}</span>
              </a>
              <ul class="health-metrics" collapse="isCollapsed">
                <li id="{{health.name}}" class="monitoring-cell"ng-repeat="health in section.healthMetrics">
                  <a ng-href="{{statusPageUrl}}"  ng-class="{true:'green', false:'red'}[health.status==='operational']" target="_blank">
                    <i class="fa fa-circle"></i><span>{{health.name}}</span>
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </section> -->
        <!-- <section class="help col-sm-4 col-md-12" ng-controller="SupportCtrl">
          <h4>Need Help?</h4>
          <p class="no-cases">There are no open cases</p>
          <button class="btn btn-sm btn-default">Open a Case</button>
        </section> -->
        <section class="quick-links col-sm-4 col-md-12" ng-controller="QuikLinksCtrl">
          <h4 translate="homePage.quickLinksText"></h4>
          <div class="list-group">

            <a id="addUserQuickLink" href="" ui-sref="users.list({ showAddUsers: 'add' })" ng-if="isPageActive('users')" class="list-group-item">{{'homePage.addUserText' | translate}}</a>
            <a id="installDeviceQuickLink" ng-if="false" class="list-group-item">{{'homePage.installDeviceText' | translate}}</a>
            <a id="installDeviceSharedSpaceQuickLink" ui-sref="devices" ng-if="isPageActive('devices')" class="list-group-item">{{'homePage.installSharedSpaceText' | translate}}</a>
            <a id="autoAttendantQuickLink" ng-if="false" class="list-group-item">{{'homePage.autoAttendantText' | translate}}</a>
            <a id="deviceLogsQuickLink" ui-sref="support" ng-if="isPageActive('support')" class="list-group-item">{{'homePage.searchLogsText' | translate}}</a>
          </div>
        </section>
        <section class="unlicensed-users col-md-12 col-sm-4" ng-controller="LicensesCtrl" ng-show="isAdmin()">
          <div ng-if="isDomainClaimed()">
            <div class="users-info">
              <span class="number">{{licenses.unlicensed}}</span>
              <span class="text">{{'homePage.unlicensedDateText' | translate}}</span>
            </div>
            <h4>{{licenses.domain}}</h4>
          </div>
          <div class="unlicensed-users-unclaimeddomain" ng-if="isDomainClaimed()===false">
            <h4>{{licenses.unlicensed}} {{'homePage.unlicensedText' | translate}}</h4>
            <p class="no-cases">{{'homePage.convertText' | translate}}</p>
          </div>
          <button id="convertButton" class="btn btn-sm btn-default" translate="homePage.convert" ng-click="openConvertModal()" ng-disabled="licenses.unlicensed === 0"></button>
        </section>
      </div>
    </div>
  </div>
</div>
