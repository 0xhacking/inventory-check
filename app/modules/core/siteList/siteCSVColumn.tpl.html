
<div ng-if="!row.entity.showCSVInfo">
  <p class="ui-grid-cell-contents">
    <i class="icon-spinner icon"></i>
  </p>
</div>

<div ng-if="row.entity.showCSVInfo">
  <div ng-if="!row.entity.isError">
    <p class="ui-grid-cell-contents">
      <span ng-if="!row.entity.isCSVSupported">
        <span id="{{row.entity.license.siteUrl}}_notAvailable"
              translate="siteList.siteCSVNotAvailable"></span> 
            
        <span id="{{row.entity.license.siteUrl}}_infoIcon">
          <i class="icon icon-information icon-lg ng-scope ui-grid-vcenter"
             tooltip-append-to-body="true" 
             tooltip-animation="false"
             tooltip="{{::'siteList.siteCSVNotAvailableTooltip' | translate}}"
             tooltip-placement="top"></i>
        </span>
      </span>
        
      <span ng-if="row.entity.isCSVSupported">
          <!-- export section -->
          <span id="{{row.entity.license.siteUrl}}_exportStatus">
            <!-- Export Results -->
            <span ng-if="row.entity.showExportResultsLink">
              <span ng-if="row.entity.exportFinishedWithErrors" 
                    class="csv-results" 
                    tooltip-append-to-body="true" 
                    tooltip-animation="false"
                    tooltip="{{::'siteList.exportFinishedWithErrorsTooltip' | translate}}"
                    tooltip-placement="top">
                     
                <a id="{{row.entity.license.siteUrl}}_exportResult"
                   ui-sref="site-csv-results({siteRow:row.entity})">
                   
                  <i id="{{row.entity.license.siteUrl}}_exportResultIcon" 
                     class="icon-warning icon webex-attention-text"></i>
                     
                  <span translate="siteList.siteCsvExportResultsLinkLabel"></span>
                </a>
              </span>
              
              <span ng-if="!row.entity.exportFinishedWithErrors"
                    class="csv-results">
                    
                <a id="{{row.entity.license.siteUrl}}_exportResult"
                   ui-sref="site-csv-results({siteRow:row.entity})">
                   
                  <span translate="siteList.siteCsvExportResultsLinkLabel"></span>
                </a>
              </span>
                
              &nbsp;
            </span> 

            <!-- Export -->
            <a ng-if="row.entity.showExportLink" 
               id="{{row.entity.license.siteUrl}}_export"
               translate="siteList.siteCsvExportLinkLabel"
               ng-click="grid.appScope.csvExport(row.entity);"></a>

            <!-- Export In Progress -->
            <span ng-if="row.entity.showExportInProgressLink" 
                  id="{{row.entity.license.siteUrl}}_exportInProgress">
                  
               <span
                  class="csv-text" style="font-weight: bold;"
                  translate="siteList.siteCsvExportInProgressLinkLabel"
                  tooltip-placement="top"
                  tooltip="{{::'siteList.exportInProgressTooltip' | translate}}"
                  tooltip-animation="false" 
                  tooltip-append-to-body="true">
               </span>
            </span>

            <!-- Grayed Export -->
            <span ng-if="row.entity.grayedExportLink"
                  id="{{row.entity.license.siteUrl}}_exportDisabled"
                  style="color: #AEAEAF" 
                  translate="siteList.siteCsvExportLinkLabel" 
                  tooltip-placement="top"
                  tooltip="{{::'siteList.exportBlockedTooltip' | translate}}"
                  tooltip-animation="false" 
                  tooltip-append-to-body="true"></span>
          </span>
                
          <!-- export/import separator -->
          <span>
            &nbsp;|&nbsp;
          </span>
          
          <!-- import section -->
          <span id="{{row.entity.license.siteUrl}}_importStatus">
            <!-- Import -->
            <a ng-if="row.entity.showImportLink"
               id="{{row.entity.license.siteUrl}}_import"
               translate="siteList.siteCsvImportLinkLabel"
               ui-sref="site-csv-import({csvImportObj:row.entity})">
            </a>
            
            <!-- Grayed Import -->
            <span ng-if="row.entity.grayedImportLink"
                  id="{{row.entity.license.siteUrl}}_importDisabled"
                  style="color: #AEAEAF"
                  translate="siteList.siteCsvImportLinkLabel" 
                  tooltip-placement="top"
                  tooltip="{{::'siteList.importBlockedTooltip' | translate}}"
                  tooltip-animation="false" tooltip-append-to-body="true"></span>

            <!-- Import In Progress -->
            <span ng-if="row.entity.showImportInProgressLink"
                  id="{{row.entity.license.siteUrl}}_importInProgress">

               <span
                  class="csv-text" 
                  style="font-weight: bold;"
                  translate="siteList.siteCsvImportInProgressLinkLabel"
                  tooltip-placement="top"
                  tooltip="{{::'siteList.importInProgressTooltip' | translate}}"
                  tooltip-animation="false" 
                  tooltip-append-to-body="true">
                </span>
              </span>
          </span>
          
          <!-- Import Results -->              
          <span ng-if="row.entity.showImportResultsLink">
              &nbsp;
              
              <span class="csv-results" 
                    ng-if="row.entity.importFinishedWithErrors" 
                    tooltip-append-to-body="true" 
                    tooltip-animation="false"
                    tooltip="{{::'siteList.importFinishedWithErrorsTooltip' | translate}}"
                    tooltip-placement="top">
                     
                <a id="{{row.entity.license.siteUrl}}_importResult"
                   ui-sref="site-csv-results({siteRow:row.entity})">
                   
                  <i id="{{row.entity.license.siteUrl}}_importResultIcon" 
                     class="icon-warning icon webex-attention-text"></i>
                     
                  <span translate="siteList.siteCsvImportResultsLinkLabel"></span>
                </a>
              </span>
              
              <span class="csv-results" 
                    ng-if="!row.entity.importFinishedWithErrors">
                    
                <a id="{{row.entity.license.siteUrl}}_importResult"
                   ui-sref="site-csv-results({siteRow:row.entity})">
                   
                  <span translate="siteList.siteCsvImportResultsLinkLabel"></span>
                </a>
              </span>
          </span> 
      </span>
    </p>
  </div>
  
  <div ng-if="row.entity.isError">   
    <div ng-if="!row.entity.isWarn"
         popover="{{'siteList.systemError' | translate}}" 
         popover-trigger="mouseenter" 
         popover-placement="bottom">
         
      <p id="{{row.entity.license.siteUrl}}_errorIcon"
         class="ui-grid-cell-contents">
         
        <i class="icon-error icon err webex-alert-text"></i>
      </p>
    </div>

    <div ng-if="row.entity.isWarn"
         popover="{{'siteList.authError' | translate}}" 
         popover-trigger="mouseenter" 
         popover-placement="bottom">
         
      <p id="{{row.entity.license.siteUrl}}_warningIcon"
         class="ui-grid-cell-contents">
         
        <i class="icon-warning icon webex-attention-text"></i>
      </p>
    </div>
  </div>
</div>