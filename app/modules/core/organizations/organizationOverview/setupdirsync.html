<!-- This is the modal for the enabling DirSync window -->
<div id="ssoModalHeader" class="modal-header dialog-header-confirm">
  <button type="button" id="closedirsyncModal" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">&times;</button>
  <h4 class="modal-title" id="modalTitle"><span class="glyphicon glyphicon-edit"></span> {{'dirsyncModal.title' | translate}}</h4>
</div>

<div id="ssoModalBody" class="modal-body">
  <wizard current-step="currentStep">

    <wz-step title = "{{'dirsyncModal.yourDomainTitle' | translate}}">
      <div id="yourDomainDiv" ng-init="getDefaultDomain()">
        <div id="domainDetailDiv">
          <span class="subheading" translate="dirsyncModal.domain"></span>
          <input type="text" id="dirDomainText" placeholder="{{'dirsyncModal.domainDesc' | translate}}" ng-model="domain" onchange="angular.element(this).scope().setDomainName(this)"/>
        </div>
        <div class="ssoNavBtns">
          <button id="domainCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="domainNextBtn" wz-next="setDomain()" class="btn btn--primary pull-left"><span translate="ssoModal.nextBtn"></span></button>
        </div>
      </div>
    </wz-step>

    <wz-step title="{{'dirsyncModal.installTitle' | translate}}">
      <div id="installDiv">

        <div class="installStep"> <span translate="dirsyncModal.installStep1"></span></div>
        <div class="installStep"> <span translate="dirsyncModal.installStep2"></span></div>
        <div class="installStep"> <span translate="dirsyncModal.installStep3"></span></div>
        <div class="installStep"> <span translate="dirsyncModal.nextSteps"></span></div>

        <button id="syncNowBtn" cs-btn loading="syncNowLoad" class="btn btn--primary pull-left" ng-click="syncNow()"><span translate="dirsyncModal.syncNowBtn"></span></button>

        <div class="ssoNavBtns">
          <button id="installCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="installBackBtn" wz-previous class="btn btn--primary pull-left"><span translate="ssoModal.backBtn"></span></button>
          <button id="installNextBtn" wz-next="getStatus()" class="btn btn--primary pull-left"><span translate="ssoModal.nextBtn"></span></button>
        </div>
      </div>
    </wz-step>

    <wz-step title="{{'dirsyncModal.synchTitle' | translate}}">
      <div id="synchDiv">
        <div id="userResults">
          <span class="subheading" translate="dirsyncModal.results"></span>
          <span class="boldText"> {{dirsyncStatus}} </span>

          <span class="dirsync-refresh-button">
            {{formatDate(lastEndTime)}}
          <span id="refreshButton">
            <a href ng-click="getStatus()"><i class="icon icon-refresh"></i></a></span>
          </span>

          <div id="numUsers"><span class="boldText"> {{numUsersInSync}} </span><span translate="dirsyncModal.syncAgreementText"></span> </div>
              <div class="dirgridStyle" ui-grid="gridOptions" ui-grid-selection></div>
        </div>

        <div class="ssoNavBtns">
          <button id="synchCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="synchBackBtn" wz-previous class="btn btn--primary pull-left"><span translate="ssoModal.backBtn"></span></button>
          <button id="synchFinishBtn" wz-next id="finishBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.finishBtn"></span></button>
        </div>
      </div>
    </wz-step>

  </wizard>

</div>

<div id="ssoFooter" class="modal-footer">
</div>
