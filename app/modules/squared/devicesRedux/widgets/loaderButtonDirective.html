<button 
  ng-click="buttonClicked()"
  ng-disabled="loading || ngDisabled"
  class="loader-button btn btn-primary {{class}}">
  <span 
    ng-hide="loading" 
    ng-transclude>
  </span>
  <i 
    ng-show="loading" 
    class="icon icon-spinner">
  </i>
</button>