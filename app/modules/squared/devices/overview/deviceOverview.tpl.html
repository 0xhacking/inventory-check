<div class="sq-devices-page-overview">
  <div ui-view="header"></div>

  <cs-sp-container>
    <cs-sp-section>
      <div class="feature-list">
        <table>
          <tbody>
            <tr ng-if="deviceOverview.currentDevice.product">
              <td style="font-weight: bold" colspan="2">
                <span>
                  {{deviceOverview.currentDevice.product}}
                </span>
                <img
                  ng-if="deviceOverview.currentDevice.image"
                  ng-src="{{deviceOverview.currentDevice.image}}"
                  style="width: 60px; padding-left: 10px"
                />
              </td>
            </tr>
            <tr>
              <td translate="common.status"></td>
              <td>
                <i
                  class="fa fa-circle device-status device-status"
                  ng-class="deviceOverview.currentDevice.cssColorClass">
                </i>
                <span>{{deviceOverview.currentDevice.readableState}}</span>
              </td>
            </tr>
            <tr ng-show="deviceOverview.currentDevice.software">
              <td translate="deviceOverviewPage.software"></td>
              <td>
                {{deviceOverview.currentDevice.software}}
                (<span ng-model="deviceOverview.currentDevice.upgradeChannel" translate="CsdmStatus.upgradeChannels.{{deviceOverview.currentDevice.upgradeChannel}}" />)
                <a href ui-sref="device-overview.edit({currentDevice: deviceOverview.currentDevice})" ng-if="deviceOverview.canChangeUpgradeChannel"><i class="icon icon-edit" /></a>
              </td>
            </tr>
            <tr ng-show="deviceOverview.currentDevice.ip">
              <td translate="deviceOverviewPage.ipAddr"></td>
              <td>{{deviceOverview.currentDevice.ip}}</td>
            </tr>
            <tr ng-show="deviceOverview.currentDevice.serial">
              <td translate="deviceOverviewPage.serial"></td>
              <td>{{deviceOverview.currentDevice.serial}}</td>
            </tr>
            <tr ng-show="deviceOverview.currentDevice.mac">
              <td translate="deviceOverviewPage.macAddr"></td>
              <td>{{deviceOverview.currentDevice.mac}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div
        class="feature-list activation-code-pane"
        ng-show="deviceOverview.currentDevice.needsActivation">
        <p translate="deviceOverviewPage.newDeviceActivation"></p>
        <h3>{{deviceOverview.currentDevice.readableActivationCode}}</h3>
        <p>{{'deviceOverviewPage.expires' | translate}} {{deviceOverview.currentDevice.expiryTime}}</p>
      </div>
    </cs-sp-section>

    <cs-sp-section ng-show="deviceOverview.currentDevice.hasIssues">
      <div class="section-name" style="padding: 15px 0;" translate="deviceOverviewPage.issues"></div>
      <div>
        <div ng-repeat="event in deviceOverview.currentDevice.diagnosticsEvents" style="padding-bottom: 10px">
          <p>
            <i
              class="fa fa-circle device-status device-status-red">
            </i>
            {{event.type}}
          </p>
          <p>{{event.message}}</p>
        </div>
      </div>
    </cs-sp-section>

    <cs-sp-section>
      <div class="panel-buttons">
        <button
          ng-click="deviceOverview.deleteDevice()"
          class="btn btn--primary"
          ng-if="deviceOverview.currentDevice.canDelete">
          <span
            translate="spacesPage.delete">
          </span>
        </button>

        <button
          class="btn btn--primary"
          sq-click-promise="deviceOverview.reportProblem()"
          ng-if="deviceOverview.currentDevice.canReportProblem">
          <span translate="spacesPage.reportProblem"></span>
        </button>

        <button
          class="btn btn--primary"
          sq-click-promise="deviceOverview.showRemoteSupportDialog()"
          ng-if="deviceOverview.currentDevice.hasRemoteSupport">
          <span translate="spacesPage.remoteSupport"></span>
        </button>
      </div>
    </cs-sp-section>
  </cs-sp-container>
</div>
