<div id="addDeviceModal">

  <div class="modal-header">
    <button
      type="button"
      class="close"
      ng-click="$dismiss()">
    </button>
    <h3
      class="modal-title"
      translate="spacesPage.modalTitle">
    </h3>
  </div>

  <div class="modal-body">
    <div ng-show="notificationsFailed" class="alert alert-warning">
      Activation Code created successfully, but notifications failed to transmit.
    </div>

    <form onsubmit="$('#create-code-button').click()" ng-show="adc.showAdd">
      <h4 translate="spacesPage.addDeviceStep1"></h4>
      <p translate="spacesPage.addDeviceStep1Desc"></p>
      <div>
        <input
          required
          type="text"
          id="newRoom"
          name="roomName"
          focus-on="adc.showAdd"
          ng-model="adc.deviceName"
          placeholder="Room or shared space name"
          class="form-control"
          maxlength="127">
        </input>

      </div>
    </form>

    <div class="device-added clearfix" ng-show="!adc.showAdd">
      <h4>
        Activation code for <b>{{adc.deviceName}}</b> has been created:
      </h4>
      <div class="clearfix">
        <h3>
          {{adc.activationCode}}
          <sq-clipboard clip-copy="adc.activationCode"></sq-clipboard>
        </h3>
        <p>{{'deviceOverviewPage.expires' | translate}} {{adc.expiryTime}}</p>
      </div>

    </div>

  </div>

  <div class="modal-footer">
    <button
      type="button"
      class="btn"
      ng-if="!adc.showAdd"
      focus-on="!adc.showAdd"
      ng-click="adc.resetAddDevice()">
      Add another
    </button>
    <button
      type="button"
      class="btn btn--primary"
      ng-click="$dismiss()"
      ng-if="!adc.showAdd"
      translate="spacesPage.done">
    </button>
    <button
      ng-if="adc.showAdd"
      id="create-code-button"
      class="btn btn--primary"
      sq-click-promise="adc.addDevice()"
      ng-disabled="!adc.isNameValid()">
      <span
        translate="spacesPage.add">
      </span>
    </button>
  </div>

</div>
