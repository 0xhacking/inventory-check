<div class="details-pane">

  <div class="device-pager">
    <button ui-sref="devices-redux5.search">
      <i class="fa fa-th" />
    </button>
    <div class="pr">
      <button
        ui-sref="devices-redux5.details({
          device: devices.filteredCodesAndDevices.matches[devices.findDeviceIndex(deviceDetails.device) - 1]
        })"
        ng-disabled="devices.findDeviceIndex(deviceDetails.device) == 0">
        <i class="fa fa-chevron-left" />
      </button>
      <span style="padding: 0 20px">
        Device
        {{devices.findDeviceIndex(deviceDetails.device) + 1}}
        of
        {{devices.filteredCodesAndDevices.matches.length}}
      </span>
      <button
        ui-sref="devices-redux5.details({
          device: devices.filteredCodesAndDevices.matches[devices.findDeviceIndex(deviceDetails.device) + 1]
        })"
        ng-disabled="devices.findDeviceIndex(deviceDetails.device) == devices.filteredCodesAndDevices.matches.length - 1">
        <i class="fa fa-chevron-right" />
      </button>
    </div>
  </div>

  <div class="details-container">
    <div>
      <h2 style="display: flex">
        <i
          class="icon icon-circle-unlock"
          ng-if="deviceDetails.device.needsActivation"
          style="padding-right: 20px; padding-top: 7px;"
        />
        <i
          class="icon icon-circle-telepresence"
          ng-if="!deviceDetails.device.needsActivation"
          style="padding-right: 20px; padding-top: 7px;"
        />
        <div
          class="ellipsis"
          ng-bind-html="deviceDetails.device.displayName | highlight:devices.search">
        </div>
      </h2>
    </div>

    <strong
       ng-bind-html="deviceDetails.device.product | highlight:devices.search">
    </strong>

    <div style="display: flex; align-items: center">
      <img
        ng-if="deviceDetails.device.image"
        ng-src="{{deviceDetails.device.image}}"
        style="width: 220px; padding-right: 10px"
      />
      <div>
        <div>
          <i
            style="padding-right: 10px"
            class="fa fa-circle device-status"
            ng-class="deviceDetails.device.cssColorClass"
          />
          <span ng-bind-html="deviceDetails.device.readableState | highlight:devices.search"></span>
        </div>
        <div>
          <button
            class="btn btn-default"
            style="padding-left: 0"
            ng-click="deviceDetails.deleteDevice()">
            {{deviceDetails.device.needsActivation ? 'Delete activation code...' : 'Delete device...'}}
            </span>
          </button>
        </div>
      </div>
    </div>

    <div
      class="readable-activation-code"
      ng-show="deviceDetails.device.readableActivationCode"
      ng-bind-html="deviceDetails.device.readableActivationCode | highlight:devices.search">
    </div>

    <strong
      ng-if="!deviceDetails.device.readableActivationCode">
       Details
    </strong>

    <div style="padding-top: 20px;">
      <div class="row" ng-show="deviceDetails.device[key]" ng-repeat="(key, name) in deviceDetails.deviceProps">
        <div class="small-4 columns">{{name}}</div>
        <!-- <div class="small-6 columns ellipsis">{{deviceDetails.device[key] | highlight:devices.search}}</div> -->
        <div class="small-8 columns ellipsis" ng-bind-html="deviceDetails.device[key] | highlight:devices.search"></div>
      </div>
    </div>

    <div style="margin-top: 40px; text-align: right;" ng-if="!deviceDetails.device.needsActivation">
<!--
      <button
        ng-click="deviceDetails.deleteDevice()"
        class="btn btn-default">
        Delete
        </span>
      </button>
 -->
      <button
        class="btn btn-default"
        ng-if="!deviceDetails.device.needsActivation"
        sq-click-promise="deviceDetails.reportProblem()">
        Report Problem
      </button>
    </div>
  </div>

</div>
