<div class="helpdesk-landing row">
  <div class="medium-12 medium-centered columns">
    <h1 translate="helpdesk.helpdesk"></h1>

    <div class="typeahead-large" style="text-align: left;">
      <input id="searchInput" type="text"
             placeholder=""
             ng-model="helpdeskLandingCtrl.searchString" ,
             ng-keypress="($event.which === 13) ? helpdeskLandingCtrl.search() : 0"/>
      <button class="button secondary"
              ng-click="helpdeskLandingCtrl.search()"
              translate="common.search"></button>
      <p class="input-description" translate="helpdesk.searchInputDescription"></p>
    </div>

    <cs-card class="large header-bar"
             ng-if="helpdeskLandingCtrl.searchingForUsers || helpdeskLandingCtrl.userSearchResults || helpdeskLandingCtrl.userSearchFailure">
      <article>
        <header>
          <h4 translate="helpdesk.users"></h4>
        </header>
        <section>
          <div ng-if="helpdeskLandingCtrl.searchingForUsers">
            <span><i class="icon icon-spinner icon-2x"></i></span>

            <p translate="helpdesk.searchingPleaseWait"></p>
          </div>
          <div ng-if="helpdeskLandingCtrl.userSearchFailure">
            <span><i class="icon icon-warning icon-2x helpdesk-red"></i></span>

            <p class="helpdesk-red">{{helpdeskLandingCtrl.userSearchFailure}}</p>
          </div>
          <table class="table"
                 ng-if="!helpdeskLandingCtrl.searchingForUsers && helpdeskLandingCtrl.userSearchResults">
            <tbody>
            <tr ng-repeat="user in helpdeskLandingCtrl.userSearchResults">
              <td><span><a ui-sref-active="active" ui-sref="helpdesk.user({user:user})">{{user.displayName}}</a></span>
              </td>
              <td><span>{{user.userName}}</span></td>
            </tr>
            </tbody>
          </table>
          <div ng-if="!helpdeskLandingCtrl.searchingForUsers && helpdeskLandingCtrl.userSearchResults.length == 0">
            <p translate="helpdesk.noSearchHits"></p>
          </div>
        </section>
      </article>
    </cs-card>

    <cs-card class="large header-bar"
             ng-if="helpdeskLandingCtrl.searchingForOrgs || helpdeskLandingCtrl.orgSearchResults || helpdeskLandingCtrl.orgSearchFailure">
      <article>
        <header>
          <h4 translate="helpdesk.customers"></h4>
        </header>
        <section>
          <div ng-if="helpdeskLandingCtrl.searchingForOrgs">
            <span><i class="icon icon-spinner icon-2x"></i></span>

            <p translate="helpdesk.searchingPleaseWait"></p>
          </div>
          <div ng-if="helpdeskLandingCtrl.orgSearchFailure">
            <span><i class="icon icon-warning icon-2x helpdesk-red"></i></span>

            <p class="helpdesk-red">{{helpdeskLandingCtrl.orgSearchFailure}}</p>
          </div>
          <div class="org-list"
               ng-if="!helpdeskLandingCtrl.searchingForOrgs && helpdeskLandingCtrl.orgSearchResults.length > 0"
               ng-repeat="org in helpdeskLandingCtrl.orgSearchResults">
            <span><a ui-sref="helpdesk.org({org:org})">{{org.displayName}}</a></span>
          </div>
          <div ng-if="!helpdeskLandingCtrl.searchingForOrgs && helpdeskLandingCtrl.orgSearchResults.length == 0">
            <p translate="helpdesk.noSearchHits"></p>
          </div>
        </section>
      </article>
    </cs-card>
  </div>
</div>
